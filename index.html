<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1">

<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css"
	media="screen">
<link rel="stylesheet" type="text/css"
	href="stylesheets/github-dark.css" media="screen">
<link rel="stylesheet" type="text/css" href="stylesheets/print.css"
	media="print">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/default.min.css">
<link rel="stylesheet" href="stylesheets/lightbox.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
	<script>
		hljs.initHighlightingOnLoad();
	</script>
<title>Openlibs.i18n by daileyet</title>
</head>

<body>
	<header>
		<div class="container">
			<h1>Openlibs.i18n</h1>
			<h2>The lib of java internationalization, includes resource
				bundle and db implementation</h2>

			<section id="downloads">
				<a href="https://github.com/daileyet/openlibs.i18n/zipball/master"
					class="btn">Download as .zip</a> <a
					href="https://github.com/daileyet/openlibs.i18n/tarball/master"
					class="btn">Download as .tar.gz</a> <a
					href="https://github.com/daileyet/openlibs.i18n"
					class="btn btn-github"><span class="icon"></span>View on GitHub</a>
			</section>
		</div>
	</header>

	<div class="container">
		<section id="main_content">
			<h3>
				<a id="welcome-to-github-pages" class="anchor"
					href="#welcome-to-github-pages" aria-hidden="true"><span
					class="octicon octicon-link"></span></a>Usage
			</h3>

			<div>
				<h3>Quick usage for the implementation java.util.ResourceBundle</h3> 
				<b>1. Directly use pack name</b>
<pre><code class="Java">//resource pack dir and pack name; 
//put your resource bundle file Log.properties 
//under your project path "openthinks/libs/i18n/resource/i18n/"
String BASE_PACK_DIR = "openthinks/libs/i18n/resource/i18n/";
String LOG_PACK_NAME = "Log";
//get internationalization message from bundle properties file
//get default locale message
String message = I18n.getMessage(BASE_PACK_DIR + LOG_PACK_NAME, "1000");
//get special locale message
message = I18n.getMessage(BASE_PACK_DIR + LOG_PACK_NAME,Locale.UK, "1000");
</code></pre>
				<b>2. Use customized <a href="doc/openthinks/libs/i18n/implement/bundle/IBundleMessageType.html">IBundleMessageType</a></b>
<pre><code class="Java">//define a customized message type, here is a enum;
//it also can be normal class just implement interface IBundleMessageType
public enum CustomizedMessageType implements IBundleMessageType{
LOG, EXCEPTION, UI;
 @Override
 public String value() {
	return name() + ":" + BASE_PACK_DIR + name();
 }
 @Override
 public String getPackName() {
		//openthinks/libs/i18n/resource/i18n/LOG
		//openthinks/libs/i18n/resource/i18n/EXCEPTION
		//openthinks/libs/i18n/resource/i18n/UI
		return BASE_PACK_DIR + name();
 }
 @Override
 public String getMessageType() {
		return name();
 }
					
 public static final String BASE_PACK_DIR = 
	"openthinks/libs/i18n/resource/i18n/"; 
}
//get default locale message
String message = I18n.getMessage(CustomizedMessageType.LOG, "1000");
//get special locale message
message = I18n.getMessage(CustomizedMessageType.LOG,Locale.UK, "1000");
</code></pre>
				<h3>Locale change in application</h3>
				<b>Use class <a href="doc/openthinks/libs/i18n/I18nApplicationLocale.html">I18nApplicationLocale</a></b>
<pre><code class="Java">//example for Swing UI, make it as Observer 
//and register to I18nApplicationLocale
class UI extends JFrame implements Observer{
 private JButton button;
 private JLabel label;
				 		
 public UI(){
	//initialize component
	//register to I18nApplicationLocale
	I18nApplicationLocale.getInstance().addObserver(this);
 }				 
 // Overrides Observer
 public void update(Observable o, Object argument) {
	setLocaleMessage();
 }
				 		
 public void setLocaleMessage(){
	button.setText(I18n.getMessage(CustomizedMessageType.UI,"2000"));
	label.setText(I18n.getMessage(CustomizedMessageType.UI,"2001"));
 }
}
// when the application locale changed, call the following statement
I18nApplicationLocale.getInstance().changeCurrentLocale(Locale.UK);
</code></pre>
			</div>
			

			<h3>
				<a id="designer-templates" class="anchor" href="#designer-templates"
					aria-hidden="true"><span class="octicon octicon-link"></span></a>Advance options
			</h3>

			<p>
				<section>
					<h4>1. Message format</h4>
					<p>Sometimes, we need to set some placeholders in localization message, so that, we can pass the parameters from code.</p>
					<p>How to do this?
						<ul>
							<li>Define localization message like this in properties file:
<pre><code class="Ini">#UI_en.properties
#About
about.alert.header=About
about.alert.content=Version: {0}\nAuthor: {1}\nWebsite: {2}
</code></pre>
							</li>
							<li>Pass the parameters like this:
<pre><code class="Java">I18n.getMessage(
CustomizedMessageType.UI,//message pack/component
"about.alert.content", //message id
"1.0", "Dailey Dai","http://openthinks.xyz"//message parameters
);
/* final format message
Version: 1.0
Author: Dailey Dai
Website: http://openthinks.xyz
 */
</code></pre>							
							</li>
						</ul>
					</p>
				</section>
				<section>
					<h4>2. How to do database implementations ?</h4>
					<p>
						<ul>
							<li>Prepared the table in database(mysql)
<pre><code class="SQL">create table message(
message_id varchar(500),
message_locale varchar(100), 
message_content varchar(1000)
);
insert into message(message_id,message_locale,message_content) 
values("1000","zh_CN","你好");
insert into message(message_id,message_locale,message_content) 
values("1000","en_US","Hello");
</code></pre>							
							</li>
							<li>Define the message entity to map the table(need to implement <a href="doc/openthinks/libs/i18n/IMessage.html" target="_blank">IMessage</a>)
<pre><code class="Java"></code></pre>								
							</li>
							<li>Implement the <a href="doc/openthinks/libs/i18n/implement/database/query/QueryEngine.html">QueryEngine</a> from database
<pre><code class="Java"></code></pre>								
							</li>
							<li>Define customized <a href="doc/openthinks/libs/i18n/implement/database/IPersistMessageType.html">IPersistMessageType</a>(option) 
<pre><code class="Java"></code></pre></li>
							<li>JUnit test case</li>
						</ul>
					</p>
				</section>
			</p>

			<h3>
				<a id="creating-pages-manually" class="anchor"
					href="#creating-pages-manually" aria-hidden="true"><span
					class="octicon octicon-link"></span></a>Class Structure
			</h3>

			<p>
				<h4>1. API top level<BR><a href="images/UML.png" data-lightbox="UML" data-title="Top level"><img src="images/UML.png" width="200" height="250"/></a></h4>
				
				
				<h4>2. Implementations level - Bundle<BR>
					<a href="images/UML_Bundle.png" data-lightbox="UML_Bundle" data-title="Bundle implementation"><img src="images/UML_Bundle.png" width="200" height="250"/></a></h4>
				
				<h4>3. Implementations level - Database<BR>
					<a href="images/UML_Database.png" data-lightbox="UML_Database" data-title="Database implementation""><img src="images/UML_Database.png" width="200" height="250"/></a></h4>
				
			</p>

			<h3>
				<a id="authors-and-contributors" class="anchor"
					href="#authors-and-contributors" aria-hidden="true"><span
					class="octicon octicon-link"></span></a>Documentation API
			</h3>

			<p>
				Welcome to check the Java API for this library.<BR>
				Click <a href="doc/index.html">here</a>.
			</p>

			<h3>
				<a id="support-or-contact" class="anchor" href="#support-or-contact"
					aria-hidden="true"><span class="octicon octicon-link"></span></a>Contact
			</h3>

			<p>
				Mailto: <a href="mailto:Dailey Dai<dailey.yet@outlook.com>">Dailey Dai</a>
			</p>
		</section>
	</div>

<script src="javascripts/lightbox-plus-jquery.min.js" ></script>
</body>
</html>
